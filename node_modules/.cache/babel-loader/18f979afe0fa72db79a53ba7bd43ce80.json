{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\react-hw-03-image-finder\\\\src\\\\components\\\\App.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\nimport Loader from './Loader';\nimport Modal from './Modal';\nimport css from './App.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchImages = async (query, page) => {\n      if (!query) return;\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const response = await axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=39495070-5ff071e483d3b47d3211eb1ad`);\n        const newImages = response.data.hits;\n        if (newImages.length === 0) {\n          console.log('No images found for the given query.');\n          return;\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...newImages]\n        }));\n      } catch (error) {\n        console.error('Error fetching images:', error);\n      } finally {\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleSearchSubmit = newQuery => {\n      const {\n        query\n      } = this.state;\n      if (newQuery !== query) {\n        this.setState({\n          query: newQuery,\n          page: 1,\n          images: [],\n          visibleCount: 12\n        });\n      }\n    };\n    this.handleLoadMore = () => {\n      this.setState(prevState => ({\n        page: prevState.page + 1,\n        visibleCount: prevState.visibleCount + 12\n      }));\n    };\n    this.handleImageClick = largeImageUrl => {\n      this.setState({\n        modalImage: largeImageUrl\n      });\n    };\n    this.handleCloseModal = () => {\n      this.setState({\n        modalImage: null\n      });\n    };\n    this.state = {\n      query: '',\n      images: [],\n      page: 1,\n      isLoading: false,\n      modalImage: null,\n      visibleCount: 12\n    };\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      query,\n      page\n    } = this.state;\n    if (query !== prevState.query || page !== prevState.page) {\n      this.fetchImages(query, page);\n    }\n  }\n  render() {\n    const {\n      images,\n      isLoading,\n      modalImage,\n      visibleCount\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.container,\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handleSearchSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: images,\n        onImageClick: this.handleImageClick,\n        visibleCount: visibleCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), images.length > 0 && !isLoading && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handleLoadMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 45\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }, this), modalImage && /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: !!modalImage,\n        onClose: this.handleCloseModal,\n        imageUrl: modalImage,\n        className: css.modal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","axios","Searchbar","ImageGallery","Button","Loader","Modal","css","jsxDEV","_jsxDEV","App","constructor","props","fetchImages","query","page","setState","isLoading","response","get","newImages","data","hits","length","console","log","prevState","images","error","handleSearchSubmit","newQuery","state","visibleCount","handleLoadMore","handleImageClick","largeImageUrl","modalImage","handleCloseModal","componentDidUpdate","prevProps","render","className","container","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","onImageClick","onClick","isOpen","onClose","imageUrl","modal"],"sources":["D:/GitHub/react-hw-03-image-finder/src/components/App.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Searchbar from './Searchbar';\r\nimport ImageGallery from './ImageGallery';\r\nimport Button from './Button';\r\nimport Loader from './Loader';\r\nimport Modal from './Modal';\r\nimport css from './App.module.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      query: '',\r\n      images: [],\r\n      page: 1,\r\n      isLoading: false,\r\n      modalImage: null,\r\n      visibleCount: 12,\r\n    };\r\n  }\r\n  \r\n\r\n  componentDidUpdate(prevProps, prevState) { \r\n    const { query, page } = this.state;\r\n\r\n    if (query !== prevState.query || page !== prevState.page) {\r\n      this.fetchImages(query, page);\r\n    }\r\n  }\r\n\r\n  fetchImages = async (query, page) => {\r\n    if (!query) return;\r\n\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      const response = await axios.get(\r\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=39495070-5ff071e483d3b47d3211eb1ad`\r\n      );\r\n\r\n      const newImages = response.data.hits;\r\n\r\n      if (newImages.length === 0) {\r\n        console.log('No images found for the given query.');\r\n        return;\r\n      }\r\n\r\n      this.setState((prevState) => ({\r\n        images: [...prevState.images, ...newImages],\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching images:', error);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\nhandleSearchSubmit = (newQuery) => {\r\n  const { query } = this.state;\r\n\r\n  if (newQuery !== query) {\r\n    this.setState({\r\n      query: newQuery,\r\n      page: 1,\r\n      images: [],\r\n      visibleCount: 12,\r\n    });\r\n  }\r\n};\r\n  \r\n\r\n  handleLoadMore = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n      visibleCount: prevState.visibleCount + 12,\r\n    }));\r\n  };\r\n\r\n  handleImageClick = (largeImageUrl) => {\r\n    this.setState({ modalImage: largeImageUrl });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, modalImage, visibleCount } = this.state;\r\n\r\n    return (\r\n      <div className={css.container}>\r\n        <Searchbar onSubmit={this.handleSearchSubmit} />\r\n        <ImageGallery images={images} onImageClick={this.handleImageClick} visibleCount={visibleCount} />\r\n        {images.length > 0 && !isLoading && <Button onClick={this.handleLoadMore} />}\r\n        {isLoading && <Loader />}\r\n        {modalImage && (\r\n          <Modal isOpen={!!modalImage} onClose={this.handleCloseModal} imageUrl={modalImage} className={css.modal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}